(()=>{const e=()=>{const e=document.querySelector(".alert"),t=document.querySelector(".msg");e&&setTimeout((()=>{e.remove()}),5e3),t&&setTimeout((()=>{t.remove()}),5e3)},t=(t,s,o,n)=>{t.addEventListener("submit",(async a=>{if(a.preventDefault(),t.elements[s].value===t.elements[o].value)t.submit();else{const t=document.getElementById(n),s=document.createElement("p");s.classList.add("msg","alert"),s.innerHTML="Паролі мають співпадати",document.querySelector(".container").insertBefore(s,t),e()}}))};document.addEventListener("DOMContentLoaded",(()=>{const s=location.pathname.split("/");switch(s[1]){case"lit":case"pan":(()=>{const e=document.querySelector(".arr_top");window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>1?(document.body.prepend(e),e.classList.add("show")):e.classList.remove("show")})),e.addEventListener("click",(()=>{document.documentElement.scrollTop=0}))})();break;case"auth":s[3]||(()=>{const e=document.querySelectorAll(".tab"),s=document.querySelectorAll(".tab_content"),o=document.getElementById("register-form"),[,,n,a]=o.elements,l="#register"===location.hash?1:0,c=()=>{s.forEach((e=>{e.classList.add("hide")})),e.forEach((e=>{e.classList.remove("tab_active")}))},d=(t=0)=>{s[t].classList.remove("hide"),e[t].classList.add("tab_active")};c(),d(l),e.forEach(((e,t)=>{e.addEventListener("click",(()=>{e.classList.contains("tab_active")||(c(),d(t))}))})),n.addEventListener("keyup",(()=>{a.value!==n.value?n.setCustomValidity("Паролі мають співпадати"):(n.setCustomValidity(""),a.setCustomValidity(""))})),a.addEventListener("keyup",(()=>{a.value!==n.value?a.setCustomValidity("Паролі мають співпадати"):(n.setCustomValidity(""),a.setCustomValidity(""))})),t(o,"password","confirm","login")})();break;case"cabinet":(()=>{const e=document.getElementById("email-form"),s=document.getElementById("email"),o=s.defaultValue;e.addEventListener("submit",(e=>{s.value===o&&e.preventDefault()})),document.getElementById("email-reset").addEventListener("click",(e=>{e.preventDefault(),s.value=o}));const n=document.getElementById("password-form"),a=document.getElementById("password-reset"),[l,c,d]=n.getElementsByTagName("input");t(n,"newPassword","confirm","change-password"),c.addEventListener("keyup",(()=>{l.value===c.value?c.setCustomValidity("Старий і новий паролі не мають співпадати"):d.value!==c.value?c.setCustomValidity("Новий пароль і підтвердження мають співпадати"):(c.setCustomValidity(""),d.setCustomValidity(""))})),d.addEventListener("keyup",(()=>{d.value!==c.value?d.setCustomValidity("Новий пароль і підтвердження мають співпадати"):(l.value!==c.value&&c.setCustomValidity(""),d.setCustomValidity(""))})),a.addEventListener("click",(e=>{e.preventDefault(),n.reset()}))})();break;case"category":3===s.length&&(()=>{const e=document.querySelector("#search"),t=document.querySelector(".songs"),s=document.querySelectorAll(".song"),o=e=>{const t=document.createElement("div");return t.classList.add("card"),t.append(e),t};e&&e.addEventListener("input",(()=>{if(s.length){const n=e.value.toLowerCase(),a=[];s.forEach((e=>{e.text.toLowerCase().includes(n)&&a.push(e)})),a.length?n.length?(t.innerHTML="",a.forEach((e=>{const s=o(e);t.appendChild(s)}))):(t.innerHTML="",s.forEach((e=>{const s=o(e);t.appendChild(s)}))):t.innerHTML="Пісень не знайдено"}}))})()}(()=>{const e=document.querySelector(".sidenav-trigger"),t=document.querySelector(".sidenav"),s=document.querySelector("#sidenav-cover"),o=()=>{t.classList.toggle("close"),e.classList.toggle("open"),s.classList.toggle("show")};window.addEventListener("scroll",(()=>{s.classList.contains("show")||(document.documentElement.scrollTop>1?e.classList.add("hide"):e.classList.remove("hide"))})),e.addEventListener("click",(()=>{o()})),s.addEventListener("click",(e=>{t.classList.contains("close")||e.target===t||o()}))})(),(()=>{const e=document.querySelector("[data-modal]"),t=document.querySelector(".modal"),s=document.querySelectorAll("[data-close]"),o=document.querySelector("#apply");e&&(e.addEventListener("click",(()=>{e.dataset.modal&&o&&(o.href=e.dataset.modal),t.classList.toggle("show"),document.body.style.overflow="hidden"})),s.forEach((e=>{e.addEventListener("click",(()=>{t.classList.toggle("show"),document.body.style.overflow=""}))})),t.addEventListener("click",(e=>{e.target===t&&(t.classList.toggle("show"),document.body.style.overflow="")})))})(),e()}))})();